
# 前置条件

找到`软件包`中的`VC_redist.x64.exe`，这个是系统运行时库，有些干净的电脑可能没有此运行时库，会导致推流软件无法正常运行，双击此安装程序进行安装。

![[Pasted image 20241115102904.png]]


将程序包中的推流软件，拷贝到一个新的目录，并在电脑上设置该目录的环境变量。
推流软件在`软件包`中，是一个压缩包，找一个目录进行解压，例如：`D:/Program Files`，解压后如下：

![[Pasted image 20241114115612.png]]

复制`bin/64bit`目录的绝对路径，如图：

![[Pasted image 20241114115636.png]]

然后设置系统环境变量，可以在开始菜单中搜索`环境变量`，选择`编辑系统环境变量`，如图：
![[Pasted image 20241107174649.png]]

在弹出窗口中选择`环境变量`，如图：
![[Pasted image 20241107174730.png]]

找到`系统变量`下的`新建`，如图：

![[Pasted image 20241114115747.png]]

之后把之前所有弹窗都点击`确定`关闭即可。

# 推流配置项说明

打开推流软件客户端，在`bin/64bit/obs64.exe`，双击打开，如图：

![[Pasted image 20241114120014.png]]

![[Pasted image 20241114120029.png]]

添加要录制的屏幕，点击

![[Pasted image 20241114120113.png]]

![[Pasted image 20241114120130.png]]

![[Pasted image 20241114120150.png]]

这里选择要捕获的屏幕，选择完毕后点击`OK`。

注意，添加完屏幕采集器后，可能因为屏幕分辨率和OBS的画布分辨率尺寸不一致，会导致屏幕画面未完全一比一映射在画布上，这个时候需要拖拽一下屏幕内容，如图：

![[Pasted image 20241115101659.png]]

点击画布会出现红色拖拽框，可以选择方块点位进行拖拽，拖拽到合适的大小，使画面严丝合缝对准画布即可。

像下面这种，就是没有铺满的情况：

![[Pasted image 20241115102326.png]]

鼠标悬浮在红框区域内，按住鼠标左键进行拖拽，将左上角对齐画布左上角，如图：

![[Pasted image 20241115102414.png]]

再点击红框右下角的方块，鼠标左键按住拖拽将画面放大对齐画布右下角，如图：

![[Pasted image 20241115102457.png]]

这样就可以录制屏幕了。

然后打开设置面板，点击如下按钮：

![[Pasted image 20241114120302.png]]

![[Pasted image 20241114120340.png]]

在`Stream`页签，配置推流服务器地址，`Server`填固定的`rtmp://IP:10035/live`，这里IP配置为`EasyDarwin`流媒体服务器的IP地址，`Stream Key`填类似于`10?sign=UhDk0LGHR`，这段后缀就是马戎配置好的每一个直播房间的url的后半段。例如

![[Pasted image 20241114120537.png]]

则每一台电脑的`Stream Key`各自配一个，例如导调端配`3?sign=Jy2IDFGHg`，消防车A配`4?sign=NRYSvFMHg`，消防车B配`5?sign=RtrIDFGHR`。总之，每一个`Stream Key`只能分配给一台机器，彼此间不能重复。

配置好之后，切换到`Video`页签。如图

![[Pasted image 20241114120743.png]]

对于单屏设备，`Base (Canvan) Resolution`可以选择为屏幕分辨率，如现场的机器这里应该选择`2560x1440`，`Output (Scaled) Resolution`为推流时的分辨率，选720p的配置`1280x720`，下面两项对应截图中的配置。配好后确认一下推流配置，切换到`Output`页签，如图配置：

![[Pasted image 20241114121109.png]]

配置好后，点击`OK`，推流的配置就完成了。后续的推流和结束推流都有UE程序在开始演练和结束演练时自动控制，此推流软件无需手动打开。

如果是VR设备，上面`Output`页签的配置可能会对CPU占用过高，导致VR画面有些卡顿，可以调整成下面的配置，下面的配置是走的GPU处理。

![[Pasted image 20241115101400.png]]



