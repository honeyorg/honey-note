![[Pasted image 20240823145226.png]]




音频

AudioLink/MP3/WAV/Text To Speech

Read external sound effects resources for playback, and convert WAV format to byte. Byte format can also be converted to WAV. Can achieve text to speech conversion


http://10.113.1.115:48080/admin-api/infra/file/5/get/b49c19eaef692aa7ed8e3a29b30a37cda353bfd90b150af0c2ecd56ec0850b8b.sce

[UE HTTP文件上传](https://zhuanlan.zhihu.com/p/79216048)


- **boundary**:
    
    - `boundary` 是一个唯一字符串，用于分隔 `multipart/form-data` 中的各个部分。
    - 每个部分以 `--boundary` 开头，并以 `--boundary--` 结尾。
- **multipart/form-data 内容创建**:
    
    - 每个部分（part）由三部分组成：分隔符（`--boundary`）、Content-Disposition 和 Content-Type 头信息、内容。
    - 在文件内容之后和每个部分之间都需要添加空行 (`\r\n`)。
- **HTTP 请求**:
    
    - 设置 `Content-Type` 为 `multipart/form-data`，并包含 `boundary`。
    - 设置 `Content-Length` 为请求体的字节长度。
    - 使用 `req.write(body)` 写入请求体，然后调用 `req.end()` 结束请求。




任务发布

- [x] 创建任务面板 ✅ 2024-09-05
  - [x] 任务名，任务描述（纯文字版） ✅ 2024-09-05
- [ ] 固定任务面板（读服务器数据生成）
- [x] 指派任务 ✅ 2024-09-05
  - [x] 全部人（系统任务） ✅ 2024-09-05
  - [x] 分组任务 ✅ 2024-09-05
  - [x] 单人任务 ✅ 2024-09-05
- [x] 导调端任务列表（仅支持新增删除更改描述，不得更改完成状态） ✅ 2024-09-05
  - [x] 每个人员的各自的任务列表 ✅ 2024-09-05
  - [x] 每个分组共同的任务列表 ✅ 2024-09-05
  - [x] 所有人共同的系统任务列表（就意思是，能一键给多人指派任务，就得对应提供一键移除多人的相同任务） ✅ 2024-09-05
- [x] 其他端任务列表 ✅ 2024-09-05
  - [x] 任务项支持选中，进行提交，若已完成就不显示了。但是需要统计信息 ✅ 2024-09-05
- [x] 任务的提交，完成和各端的同步，通过任务唯一ID来区别。因为可能存在多人都有相同的任务，只要一人完成即算完成，还有必须每个人完成各自指派的相同任务才算个人完成的情况。 ✅ 2024-09-05
- [ ] 拖拽到场景的某些业务组件，可以在细节面板上设定其是不是一个问题，问题的描述，点击执行后，导调端收到信息，同步新增任务到指派的人员列表中，且向指派端同步新增任务的信息。
- [x] 固定任务可以编辑描述信息，自定义任务可以编辑所有信息及删除 ✅ 2024-09-05



## 任务的判定逻辑

- [x] 在想定编辑器创建方案时，可以在该方案的属性面板上设置任务列表。 ✅ 2024-09-12

该方案中，可以添加多个触发器任务，触发器任务是自动触发并判定完成状态的。

- [x] 当该方案中仍存在未完成的触发器任务、临时任务时，指挥员无法向上汇报。 ✅ 2024-09-12

- [x] 指挥员的汇报任务详细信息面板中，要能获取所有方案任务、方案内的触发器任务、临时任务。 ✅ 2024-09-12

- [x] 当指挥员汇报了任务，标记为已完成后，自动跳转到下一个方案。 ✅ 2024-09-12

- [x] 任务序列化文件 ✅ 2024-09-12


~~想定编辑方案，方案中有任务列表，需要在指挥员进入该方案时，获取到该方案，进行分配？还是说直接所有进入的学员，包括指挥员，任务列表中会显示当前方案的任务列表。~~

- [x] 如果是后者，需要在进入方案时，接一个通知，然后在回调中，获取当前方案的全量任务信息，并生成全体人员级别任务，分配到每一个人员（由指挥端控制，生成任务并分配） ✅ 2024-09-12

- [x] 每次提交任务，指挥员接受了任务后，需要判定是否满足跳转到下一个方案的条件，如果满足，提示其进行向上汇报。他汇报结束后，点击进入下一个方案，所有端同步 ✅ 2024-09-12


- [x] 搞一个指挥端系统，用于调度任务系统、方案系统、触发器系统、评分系统等，管理业务逻辑 ✅ 2024-09-12
